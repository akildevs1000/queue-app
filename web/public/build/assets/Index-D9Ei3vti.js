import{U as D,m as C,j as e,r as g,L as k}from"./app-DwP5b3u_.js";import{e as V,A as I,D as P,a as R,b as M,c as F,d as S}from"./app-layout-BTF7_f1q.js";import{u as A,T as H,a as B,b,c as L,f as N,d as O,e as w,g as G,h as K,i as z,j as $}from"./table-BtHO8Vm_.js";import{C as U,S as _,a as q,b as J,c as Q,d as W,e as X,f as Y}from"./select-BZwE4n9J.js";import{B as j}from"./button-Bleivc-D.js";import{I as m}from"./input-B4aa4O6d.js";import{D as T,a as Z,b as E,c as ee}from"./dialog-BR_BNA_l.js";import{G as se}from"./GradientButton-COEmZrR2.js";import{E as ae,P as te,T as ne}from"./trash-nDyVLrbg.js";import"./utils-jAU0Cazi.js";import"./index-D363wZmi.js";import"./app-logo-icon-C1cDhG1I.js";import"./index-BjBug0kt.js";import"./index-Dc60J1YO.js";function le({title:d,endpoint:i}){const[s,h]=D.useState(!1),{data:x,setData:c,post:u,processing:p,reset:r,errors:n}=C({name:"",code:"",description:""}),f=t=>{t.preventDefault(),u(i,{onSuccess:()=>{r(),h(!1)}})};return e.jsxs(T,{open:s,onOpenChange:h,children:[e.jsx(Z,{asChild:!0,children:e.jsxs(se,{children:["Create ",d," "]})}),e.jsxs(E,{children:[e.jsxs("h2",{className:"text-xl font-bold",children:["Create ",d]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx(m,{placeholder:"Name",type:"text",value:x.name,onChange:t=>c("name",t.target.value)}),n.name&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:n.name})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(m,{placeholder:"Code",type:"text",value:x.code,onChange:t=>c("code",t.target.value)}),n.code&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:n.code})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(m,{placeholder:"Description",type:"text",value:x.description,onChange:t=>c("description",t.target.value)}),n.description&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:n.description})]}),e.jsx(j,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",type:"submit",disabled:p,children:p?"Submitting...":"Submit"})]})]})]})}function re({title:d,endpoint:i,item:s,open:h,setOpen:x}){const{setData:c,put:u,processing:p,data:r,errors:n}=C({id:(s==null?void 0:s.id)||"",name:(s==null?void 0:s.name)||"",code:(s==null?void 0:s.code)||"",description:(s==null?void 0:s.description)||""}),f=t=>{t.preventDefault(),u(i+"/"+r.id,{onSuccess:()=>{x(!1)}})};return D.useEffect(()=>{c({id:(s==null?void 0:s.id)||"",name:(s==null?void 0:s.name)||"",code:(s==null?void 0:s.code)||"",description:(s==null?void 0:s.description)||""})},[s]),e.jsx(T,{open:h,onOpenChange:x,children:e.jsxs(E,{children:[e.jsx(ee,{children:e.jsxs(V,{children:["Edit ",d," "]})}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx(m,{placeholder:"Name",type:"text",value:r.name,onChange:t=>c("name",t.target.value)}),n.name&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:n.name})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(m,{placeholder:"Code",type:"text",value:r.code,onChange:t=>c("code",t.target.value)}),n.code&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:n.code})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(m,{placeholder:"Description",type:"text",value:r.description,onChange:t=>c("description",t.target.value)}),n.description&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:n.description})]}),e.jsx(j,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",type:"submit",disabled:p,children:p?"Submitting...":"Submit"})]})]})})}const oe=[{title:"Services",href:"/services"}],y=[{accessorKey:"id",header:"#"},{accessorKey:"name",header:"Name"},{accessorKey:"description",header:"Description"},{id:"actions",header:"Action",cell:({row:d})=>{const i=d.original,{delete:s,setData:h}=C({id:i.id,name:i.name,description:i.description}),x=r=>{confirm("Are you sure you want to delete this tasks?")&&s(`/services/${r}`,{onSuccess:()=>{}})},[c,u]=g.useState(!1),p=r=>{console.log("ðŸš€ ~ handleEdit ~ contact:",r),u(!0),h(r)};return e.jsxs("div",{children:[" ",e.jsxs(P,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(j,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ae,{})]})}),e.jsxs(M,{align:"end",className:"right-0 cursor-pointer",children:[e.jsxs(S,{onClick:()=>p(i),children:[" ",e.jsx(te,{})," Edit"]}),e.jsxs(S,{onClick:()=>x(i.id),className:"cursor-pointer",children:[e.jsx(ne,{})," Delete"]})]})]}),e.jsx(re,{title:"Services",endpoint:"services",open:c,setOpen:u,item:i})]})}}];function Se({items:d}){var v;const{get:i}=C(),s=a=>{i(route("services.index",{per_page:a}))},[h,x]=g.useState([]),[c,u]=g.useState([]),[p,r]=g.useState({}),[n,f]=g.useState({}),t=g.useMemo(()=>d.data,[d]);g.useEffect(()=>{l.setPageSize(d.per_page)},[d]);const l=A({data:t,columns:y,onSortingChange:x,onColumnFiltersChange:u,getCoreRowModel:$(),getPaginationRowModel:z(),getSortedRowModel:K(),getFilteredRowModel:G(),onColumnVisibilityChange:r,onRowSelectionChange:f,state:{sorting:h,columnFilters:c,columnVisibility:p,rowSelection:n}});return e.jsxs(I,{breadcrumbs:oe,children:[e.jsx(k,{title:"Tasks"}),e.jsxs("div",{className:"flex w-full items-center justify-between rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{placeholder:"Filter titles...",value:((v=l.getColumn("name"))==null?void 0:v.getFilterValue())??"",onChange:a=>{var o;return(o=l.getColumn("name"))==null?void 0:o.setFilterValue(a.target.value)},className:"mr-1 max-w-sm"}),e.jsxs(P,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(j,{variant:"outline",children:["Columns ",e.jsx(U,{})]})}),e.jsx(M,{align:"end",children:l.getAllColumns().filter(a=>a.getCanHide()).map(a=>e.jsx(F,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:o=>a.toggleVisibility(!!o),children:a.id},a.id))})]})]}),e.jsx(le,{title:"Services",endpoint:"services"})]}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("div",{className:"gap-4 rounded-xl border border-gray-200 bg-[var(--background)] p-4 text-[var(--foreground)] dark:border-gray-700",children:[e.jsxs(H,{children:[e.jsx(B,{children:l.getHeaderGroups().map(a=>e.jsx(b,{children:a.headers.map(o=>e.jsx(L,{children:o.isPlaceholder?null:N(o.column.columnDef.header,o.getContext())},o.id))},a.id))}),e.jsx(O,{children:l.getRowModel().rows.length?l.getRowModel().rows.map(a=>e.jsx(b,{children:a.getVisibleCells().map(o=>e.jsx(w,{children:N(o.column.columnDef.cell,o.getContext())},o.id))},a.id)):e.jsx(b,{children:e.jsx(w,{colSpan:y.length,className:"h-24 text-center",children:"No results."})})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Rows per page:"}),e.jsxs(_,{onValueChange:a=>{l.setPageSize(Number(a)),s(Number(a))},value:String(l.getState().pagination.pageSize),children:[e.jsx(q,{className:"w-[120px]",children:e.jsx(J,{placeholder:"Per Page"})}),e.jsx(Q,{children:e.jsxs(W,{children:[e.jsx(X,{children:"Per Page"}),[5,10,20,50,100].map(a=>e.jsx(Y,{value:String(a),children:a},a))]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:"outline",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Previous"}),e.jsxs("span",{children:["Page ",l.getState().pagination.pageIndex+1," of ",l.getPageCount()]}),e.jsx(j,{variant:"outline",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Next"})]})]})]})})]})}export{y as columns,Se as default};

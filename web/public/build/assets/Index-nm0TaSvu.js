import{m as w,r as l,j as e,L as M}from"./app-R_4sylby.js";import{A as D,D as S,a as P,b as N,c as T,d as j}from"./app-layout-DvfumM7A.js";import{u as V,C as k,f as C,S as I,a as E,b as F,c as A,d as B,e as H,g as L,h as K,i as z,j as O,k as $,E as G,P as _,T as q}from"./select-3k_IC6A-.js";import{B as c}from"./button-BlddmMop.js";import{I as J}from"./input-YlJCkXXJ.js";import{T as Q,a as U,b as h,c as W,d as X,e as f}from"./table-INaGdMvc.js";import{I as Y,a as Z}from"./Edit-DENXZFvH.js";import"./utils-jAU0Cazi.js";import"./index-jFEyj3Xs.js";import"./app-logo-icon-CqZT3C9X.js";import"./index-avRgLURJ.js";import"./index-DwCAyMrn.js";import"./dialog-CDk3j28K.js";import"./GradientButton-BmXPG-qD.js";const ee=[{title:"Business Source",href:"/business-sources"}],b=[{accessorKey:"id",header:"#"},{accessorKey:"name",header:"Name"},{accessorKey:"description",header:"Description"},{id:"actions",header:"Action",cell:({row:a})=>{const i=a.original,{delete:d,setData:u}=w({id:i.id,name:i.name,description:i.description}),m=o=>{confirm("Are you sure you want to delete this tasks?")&&d(`/business-sources/${o}`,{onSuccess:()=>{}})},[g,r]=l.useState(!1),x=o=>{r(!0),u(o)};return e.jsxs("div",{children:[" ",e.jsxs(S,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(G,{})]})}),e.jsxs(N,{align:"end",className:"right-0 cursor-pointer",children:[e.jsxs(j,{onClick:()=>x(i),children:[" ",e.jsx(_,{})," Edit"]}),e.jsxs(j,{onClick:()=>m(i.id),className:"cursor-pointer",children:[e.jsx(q,{})," Delete"]})]})]}),e.jsx(Z,{title:"Business Source",endpoint:"business-sources",open:g,setOpen:r,item:i})]})}}];function se({items:a}){var p;const{get:i}=w(),d=s=>{i(route("business-sources.index",{per_page:s}))},[u,m]=l.useState([]),[g,r]=l.useState([]),[x,o]=l.useState({}),[v,R]=l.useState({}),y=l.useMemo(()=>a.data,[a]);l.useEffect(()=>{t.setPageSize(a.per_page)},[a]);const t=V({data:y,columns:b,onSortingChange:m,onColumnFiltersChange:r,getCoreRowModel:$(),getPaginationRowModel:O(),getSortedRowModel:z(),getFilteredRowModel:K(),onColumnVisibilityChange:o,onRowSelectionChange:R,state:{sorting:u,columnFilters:g,columnVisibility:x,rowSelection:v}});return e.jsxs(D,{breadcrumbs:ee,children:[e.jsx(M,{title:"Tasks"}),e.jsxs("div",{className:"w-full p-6 rounded-lg shadow flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(J,{placeholder:"Filter titles...",value:((p=t.getColumn("name"))==null?void 0:p.getFilterValue())??"",onChange:s=>{var n;return(n=t.getColumn("name"))==null?void 0:n.setFilterValue(s.target.value)},className:"max-w-sm  mr-1"}),e.jsxs(S,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:["Columns ",e.jsx(k,{})]})}),e.jsx(N,{align:"end",children:t.getAllColumns().filter(s=>s.getCanHide()).map(s=>e.jsx(T,{className:"capitalize",checked:s.getIsVisible(),onCheckedChange:n=>s.toggleVisibility(!!n),children:s.id},s.id))})]})]}),e.jsx(Y,{title:"Business Source",endpoint:"business-sources"})]}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("div",{children:[e.jsxs(Q,{children:[e.jsx(U,{children:t.getHeaderGroups().map(s=>e.jsx(h,{children:s.headers.map(n=>e.jsx(W,{children:n.isPlaceholder?null:C(n.column.columnDef.header,n.getContext())},n.id))},s.id))}),e.jsx(X,{children:t.getRowModel().rows.length?t.getRowModel().rows.map(s=>e.jsx(h,{children:s.getVisibleCells().map(n=>e.jsx(f,{children:C(n.column.columnDef.cell,n.getContext())},n.id))},s.id)):e.jsx(h,{children:e.jsx(f,{colSpan:b.length,className:"h-24 text-center",children:"No results."})})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Rows per page:"}),e.jsxs(I,{onValueChange:s=>{t.setPageSize(Number(s)),d(Number(s))},value:String(t.getState().pagination.pageSize),children:[e.jsx(E,{className:"w-[120px]",children:e.jsx(F,{placeholder:"Per Page"})}),e.jsx(A,{children:e.jsxs(B,{children:[e.jsx(H,{children:"Per Page"}),[5,10,20,50,100].map(s=>e.jsx(L,{value:String(s),children:s},s))]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"outline",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Previous"}),e.jsxs("span",{children:["Page ",t.getState().pagination.pageIndex+1," of ",t.getPageCount()]}),e.jsx(c,{variant:"outline",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Next"})]})]})]})})]})}function pe({items:a}){return e.jsx(se,{items:a})}export{pe as default};

import{U as v,m as N,j as e,r as o,L}from"./app-BM7JRIN8.js";import{A,D,a as M,b as R,c as K,d as k}from"./app-layout-BbHe3YwY.js";import{u as H,C as G,T as z,a as $,b as S,c as U,f as T,d as q,e as F,S as J,g as Q,h as W,i as X,j as Y,k as Z,l as ee,m as te,n as se,o as le,p as ae}from"./table-Jp5PRABs.js";import{B as c}from"./button-BVdbv_fz.js";import{I as x}from"./input-DMtYF5Bq.js";import{D as re,a as oe,b as ne}from"./dialog-CNo8mpP1.js";import{G as ie}from"./GradientButton-SE_kxqeg.js";import{t as ce}from"./index-BAQd1RoC.js";import{L as u}from"./label-CBx_gTJF.js";import{P as de,a as me,b as pe,C as he}from"./popover-lJ5K6G4H.js";import{c as ue}from"./utils-jAU0Cazi.js";import{c as xe}from"./app-logo-icon--qxwENLi.js";import{E as ge,P as fe,T as je}from"./trash-B8SVf7aM.js";import"./index-BGcX2Buk.js";import"./index-CkBcDr3a.js";import"./index-BcKUiE4_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ye=xe("Calendar",Ce),be=()=>{const[n,g]=v.useState(!1),[d,f]=v.useState(new Date),[j,m]=v.useState(!1),C=a=>{a&&(f(a),i("date_of_birth",a.toLocaleDateString("en-CA")),m(!1))},{data:p,setData:i,post:y,processing:h,reset:b,errors:r}=N({full_name:"",employee_code:"",date_of_birth:"",profile_picture:null}),_=a=>{a.preventDefault(),y("/employees",{onSuccess:()=>{b(),g(!1),ce.success("Employee created successfully")}})};return e.jsxs(re,{open:n,onOpenChange:g,children:[e.jsx(oe,{asChild:!0,children:e.jsx(ie,{children:"Create Employee"})}),e.jsxs(ne,{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create Employee"}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx(u,{htmlFor:"full_name",children:"Full Name"}),e.jsx(x,{id:"full_name",type:"text",value:p.full_name,onChange:a=>i("full_name",a.target.value)}),r.full_name&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:r.full_name})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(u,{htmlFor:"employee_code",children:"Employee Code"}),e.jsx(x,{id:"employee_code",type:"text",value:p.employee_code,onChange:a=>i("employee_code",a.target.value)}),r.employee_code&&e.jsx("p",{className:"text-red-400 text-sm pt-1",children:r.employee_code})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(u,{htmlFor:"employee_code",children:"Date Of Birth"}),e.jsxs("div",{children:[e.jsxs(de,{open:j,onOpenChange:m,children:[e.jsx(me,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:ue("w-full justify-start text-left"),children:[e.jsx(ye,{className:"mr-2 h-4 w-4"}),d?d.toLocaleDateString("en-CA"):e.jsx("span",{children:"Select date"})]})}),e.jsxs(pe,{className:"w-auto p-0 bg-black",children:[" ",e.jsx(he,{mode:"single",selected:d,onSelect:C})]})]}),r.date_of_birth&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:r.date_of_birth})]})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(u,{htmlFor:"description",children:"Profile Picture"}),e.jsx(x,{placeholder:"Profile Picture",type:"file",id:"profile_picture",onChange:a=>{var l;return i("profile_picture",((l=a.target.files)==null?void 0:l[0])||null)}}),r.profile_picture&&e.jsx("p",{className:"text-red-400 pl-1 pt-1 text-sm",children:r.profile_picture})]}),e.jsx(c,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",type:"submit",disabled:h,children:h?"Submitting...":"Submit"})]})]})]})},_e=[{title:"Employee",href:"/employees"}];function Ae({items:n}){var P;const[g,d]=o.useState(new Date),{get:f}=N(),j=t=>{f(route("employees.index",{per_page:t}))},[m,C]=o.useState([]),[p,i]=o.useState([]),[y,h]=o.useState({}),[b,r]=o.useState({}),_=o.useMemo(()=>n.data,[n]);o.useEffect(()=>{l.setPageSize(n.per_page)},[n]);const a=[{accessorKey:"id",header:"#"},{accessorKey:"employee_code",header:"Employee Code"},{accessorKey:"full_name",header:"Full Name"},{accessorKey:"profile_picture",header:"Profile Picture",cell:({row:t})=>{const s=t.getValue("profile_picture");return s&&s.trim()!==""?e.jsx("img",{src:s,alt:"Product",className:"w-14 h-14 rounded-md object-cover cursor-pointer hover:scale-105 transition-transform"}):e.jsx("span",{className:"text-sm text-gray-500 italic",children:"Image not available"})}},{accessorKey:"date_of_birth",header:"Date Of Birth"},{id:"actions",header:"Action",cell:({row:t})=>{const s=t.original,{delete:E,setData:O}=N({id:s.id,full_name:s.full_name,employee_code:s.employee_code,date_of_birth:s.date_of_birth,profile_picture:s.profile_picture}),V=w=>{confirm("Are you sure you want to delete this tasks?")&&E(`/employees/${w}`)},[we,B]=o.useState(!1),I=w=>{B(!0),O(w)};return e.jsx("div",{children:e.jsxs(D,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ge,{})]})}),e.jsxs(R,{align:"end",className:"right-0 cursor-pointer",children:[e.jsxs(k,{onClick:()=>I(s),children:[e.jsx(fe,{})," Edit"]}),e.jsxs(k,{onClick:()=>V(s.id),children:[e.jsx(je,{})," Delete"]})]})]})})}}],l=H({data:_,columns:a,onSortingChange:C,onColumnFiltersChange:i,getCoreRowModel:ae(),getPaginationRowModel:le(),getSortedRowModel:se(),getFilteredRowModel:te(),onColumnVisibilityChange:h,onRowSelectionChange:r,state:{sorting:m,columnFilters:p,columnVisibility:y,rowSelection:b}});return e.jsxs(A,{breadcrumbs:_e,children:[e.jsx(L,{title:"Tasks"}),e.jsxs("div",{className:"w-full p-6 rounded-lg shadow flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(x,{placeholder:"Filter titles...",value:((P=l.getColumn("full_name"))==null?void 0:P.getFilterValue())??"",onChange:t=>{var s;return(s=l.getColumn("full_name"))==null?void 0:s.setFilterValue(t.target.value)},className:"max-w-sm  mr-1"}),e.jsxs(D,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:["Columns ",e.jsx(G,{})]})}),e.jsx(R,{align:"end",children:l.getAllColumns().filter(t=>t.getCanHide()).map(t=>e.jsx(K,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:s=>t.toggleVisibility(!!s),children:t.id},t.id))})]})]}),e.jsx(be,{})]}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("div",{children:[e.jsxs(z,{children:[e.jsx($,{children:l.getHeaderGroups().map(t=>e.jsx(S,{children:t.headers.map(s=>e.jsx(U,{children:s.isPlaceholder?null:T(s.column.columnDef.header,s.getContext())},s.id))},t.id))}),e.jsx(q,{children:l.getRowModel().rows.length?l.getRowModel().rows.map(t=>e.jsx(S,{children:t.getVisibleCells().map(s=>e.jsx(F,{children:T(s.column.columnDef.cell,s.getContext())},s.id))},t.id)):e.jsx(S,{children:e.jsx(F,{colSpan:a.length,className:"h-24 text-center",children:"No results."})})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Rows per page:"}),e.jsxs(J,{onValueChange:t=>{l.setPageSize(Number(t)),j(Number(t))},value:String(l.getState().pagination.pageSize),children:[e.jsx(Q,{className:"w-[120px]",children:e.jsx(W,{placeholder:"Per Page"})}),e.jsx(X,{children:e.jsxs(Y,{children:[e.jsx(Z,{children:"Per Page"}),[5,10,20,50,100].map(t=>e.jsx(ee,{value:String(t),children:t},t))]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"outline",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Previous"}),e.jsxs("span",{children:["Page ",l.getState().pagination.pageIndex+1," of ",l.getPageCount()]}),e.jsx(c,{variant:"outline",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Next"})]})]})]})})]})}export{Ae as default};

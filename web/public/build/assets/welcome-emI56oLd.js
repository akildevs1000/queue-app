import{r as x,j as e,K as j,L as b,$ as u}from"./app-DpNGodYH.js";import{G as y}from"./GradientButton-DMsBN2ZO.js";import{C as N,a as v}from"./card-DOILS04k.js";import"./button-Hzt0pO9I.js";import"./utils-jAU0Cazi.js";const w=({products:i,onImageClick:r})=>{const[f,o]=x.useState(0),c=Math.min(i.length,5),n=()=>{o(l=>(l+1)%c)},m=()=>{o(l=>(l-1+c)%c)};return x.useEffect(()=>{const l=setInterval(n,4e3);return()=>clearInterval(l)},[i]),!i||i.length===0?null:e.jsx("section",{className:"w-full py-6",children:e.jsxs("div",{className:"relative w-full mx-auto overflow-hidden rounded-lg shadow-lg",children:[e.jsx("div",{className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${f*100}%)`},children:i.slice(0,c).map((l,h)=>e.jsx("img",{src:"/images/slider-1.png",alt:l.name,onClick:()=>r==null?void 0:r(l.image),className:"w-full h-100 object-cover flex-shrink-0 cursor-pointer"},h))}),e.jsx("button",{onClick:m,className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-white text-black rounded-full p-2 shadow hover:bg-gray-100",children:"←"}),e.jsx("button",{onClick:n,className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-white text-black rounded-full p-2 shadow hover:bg-gray-100",children:"→"})]})})};function S(){const{auth:i,products:r}=j().props,[f,o]=x.useState(null),[c,n]=x.useState([]),m=t=>{n(a=>a.find(d=>d.id===t.id)?a.map(d=>d.id===t.id?{...d,quantity:d.quantity+1}:d):[...a,{...t,quantity:1}])},l=t=>{n(a=>a.filter(s=>s.id!==t))},h=t=>{n(a=>a.map(s=>s.id===t?{...s,quantity:s.quantity+1}:s))},g=t=>{n(a=>a.map(s=>s.id===t&&s.quantity>1?{...s,quantity:s.quantity-1}:s))};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Welcome"}),e.jsx("div",{className:"flex min-h-screen flex-col items-center bg-[#FDFDFC] text-[#1b1b18] lg:justify-center pt-6 dark:bg-[#0a0a0a]",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto mb-6",children:[e.jsx("header",{className:"",children:e.jsxs("nav",{className:"flex justify-between items-center px-4",children:[e.jsx(u,{href:"/",className:"text-xl font-bold text-[#1b1b18] dark:text-[#EDEDEC] hover:text-[#4CAF50]",children:"Home"}),e.jsx("div",{className:"flex items-center gap-4",children:i.user?e.jsx(u,{href:route("dashboard"),className:"text-sm text-[#1b1b18] dark:text-[#EDEDEC] hover:text-[#4CAF50]",children:"Dashboard"}):e.jsx(e.Fragment,{children:e.jsx(u,{href:route("login"),className:"text-sm text-[#1b1b18] dark:text-[#EDEDEC] hover:text-[#4CAF50]",children:"Log in"})})})]})}),e.jsx(w,{products:r,onImageClick:t=>o(t)}),e.jsxs("section",{className:"mt-15",children:[e.jsx("h6",{className:"text-2xl text-gray-800 dark:text-gray-100 px-5",children:"Latest Products"}),e.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:r==null?void 0:r.map(t=>{var a;return e.jsx(N,{children:e.jsxs(v,{className:"p2",children:[e.jsx("div",{className:"overflow-hidden cursor-pointer",onClick:()=>o(t.image),children:e.jsx("img",{src:t.image,alt:t.name,className:"h-52 w-full object-cover transition-transform duration-300 group-hover:scale-105"})}),e.jsx("h2",{className:"text-xl font-semibold",children:t.name}),e.jsxs("div",{className:"mt-2 flex justify-between ",children:[e.jsxs("span",{className:"font-bold",children:[t.price," AED"]}),e.jsxs("small",{children:["By ",(a=t==null?void 0:t.user)==null?void 0:a.name]})]}),e.jsx(y,{className:"mt-4 w-full",onClick:()=>m(t),children:"Add to Bucket"})]})},t.id)})})]}),c.length>0&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg p-4 border-t border-gray-200 z-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Your Cart"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-700 font-medium",onClick:()=>n([]),children:"Clear Cart"})]}),e.jsx("ul",{className:"space-y-4 max-h-60 overflow-y-auto",children:c.map(t=>e.jsxs("li",{className:"flex justify-between items-center border rounded-md p-3 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Quantity: ",t.quantity]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(t.id),className:"w-8 h-8 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-full text-center",children:"-"}),e.jsx("button",{onClick:()=>h(t.id),className:"w-8 h-8 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-full text-center",children:"+"}),e.jsx("button",{onClick:()=>l(t.id),className:"text-sm text-red-500 hover:underline",children:"Remove"})]})]},t.id))})]})]})})]})}export{S as default};

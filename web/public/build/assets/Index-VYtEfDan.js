import{r as a,m as O,j as e,U as A,t as le,L as ke}from"./app-BN3jc4wg.js";import{A as Ue,D as de,a as ue,b as me,c as $e,d as ne}from"./app-layout-CmYyuGO0.js";import{S as L,a as V,b as k,c as U,g as $,u as Ge,C as Ke,f as se,d as Be,e as We,E as ze,P as qe,T as Ye,h as He,i as Je,j as Ze,k as Qe}from"./select-D_8feAoO.js";import{B as M}from"./button-0v74_qJf.js";import{I as y}from"./input-BpjJ-iyx.js";import{T as Xe,a as et,b as H,c as tt,d as nt,e as re}from"./table-DwyW12tO.js";import{D as fe,a as st,b as pe,c as rt,d as ot}from"./dialog-CDKpQDXR.js";import{G as at}from"./GradientButton-DendytTq.js";import{I}from"./input-error-CoE1jSol.js";import{L as _}from"./label-DXFQG3-8.js";import"./index-tLm1K10l.js";import{c as z}from"./utils-jAU0Cazi.js";import"./index-CESDGEUV.js";import"./app-logo-icon-De-xZfDl.js";import"./index-WuBwDZK-.js";function it({title:t,endpoint:n}){const[s,r]=a.useState(!1),{data:o,setData:i,post:l,processing:c,reset:u,errors:d}=O({name:"",number:"",email:"",password:"",password_confirmation:"",service_id:0,counter_id:0}),[m,p]=a.useState([]),[f,j]=a.useState([]),h=async()=>{try{const w=await(await fetch("/service-list")).json();p(w)}catch(x){console.error("Failed to fetch services",x)}};a.useEffect(()=>{s&&h()},[s]);const v=x=>{console.log(o),x.preventDefault(),l(n,{onSuccess:()=>{u(),r(!1)}})},g=async x=>{i("service_id",parseInt(x));try{const N=await(await fetch(`/counter-list-by-service-id/${x}`)).json();console.log("ðŸš€ ~ handleServiceChange ~ json:",N),j(N)}catch(w){console.error("Failed to fetch services",w)}},C=async x=>{i("counter_id",parseInt(x))};return e.jsxs(fe,{open:s,onOpenChange:r,children:[e.jsx(st,{asChild:!0,children:e.jsxs(at,{children:["Create ",t," "]})}),e.jsxs(pe,{children:[e.jsxs("h2",{className:"text-xl font-bold",children:["Create ",t]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsxs(L,{onValueChange:g,value:o.service_id?String(o.service_id):"",children:[e.jsx(V,{className:"w-full",children:e.jsx(k,{})}),e.jsx(U,{children:m.map(x=>e.jsx($,{value:String(x.id),children:x.name},x.id))})]}),d.service_id&&e.jsx("p",{className:"pt-1 pl-1 text-sm text-red-400",children:d.service_id})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsxs(L,{onValueChange:C,value:o.counter_id?String(o.counter_id):"",children:[e.jsx(V,{className:"w-full",children:e.jsx(k,{})}),e.jsx(U,{children:f.map(x=>e.jsx($,{value:String(x.id),children:x.name},x.id))})]}),d.counter_id&&e.jsx("p",{className:"pt-1 pl-1 text-sm text-red-400",children:d.counter_id})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(_,{htmlFor:"name",children:"Name"}),e.jsx(y,{id:"name",required:!0,tabIndex:3,autoComplete:"name",value:o.name,onChange:x=>i("name",x.target.value),disabled:c,placeholder:"Jhon"}),e.jsx(I,{message:d.name})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(_,{htmlFor:"number",children:"Number"}),e.jsx(y,{id:"number",required:!0,tabIndex:3,autoComplete:"number",value:o.number,onChange:x=>i("number",x.target.value),disabled:c,placeholder:"971123456789"}),e.jsx(I,{message:d.number})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(_,{htmlFor:"email",children:"Email address"}),e.jsx(y,{id:"email",type:"email",required:!0,tabIndex:3,autoComplete:"email",value:o.email,onChange:x=>i("email",x.target.value),disabled:c,placeholder:"email@example.com"}),e.jsx(I,{message:d.email})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(_,{htmlFor:"password",children:"Password"}),e.jsx(y,{id:"password",type:"password",required:!0,tabIndex:4,autoComplete:"new-password",value:o.password,onChange:x=>i("password",x.target.value),disabled:c,placeholder:"Password"}),e.jsx(I,{message:d.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(_,{htmlFor:"password_confirmation",children:"Confirm password"}),e.jsx(y,{id:"password_confirmation",type:"password",required:!0,tabIndex:5,autoComplete:"new-password",value:o.password_confirmation,onChange:x=>i("password_confirmation",x.target.value),disabled:c,placeholder:"Confirm password"}),e.jsx(I,{message:d.password_confirmation})]}),e.jsx(M,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})]})]})}function R(t,n,{checkForDefaultPrevented:s=!0}={}){return function(o){if(t==null||t(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function X(t,n=[]){let s=[];function r(i,l){const c=a.createContext(l),u=s.length;s=[...s,l];const d=p=>{var C;const{scope:f,children:j,...h}=p,v=((C=f==null?void 0:f[t])==null?void 0:C[u])||c,g=a.useMemo(()=>h,Object.values(h));return e.jsx(v.Provider,{value:g,children:j})};d.displayName=i+"Provider";function m(p,f){var v;const j=((v=f==null?void 0:f[t])==null?void 0:v[u])||c,h=a.useContext(j);if(h)return h;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,m]}const o=()=>{const i=s.map(l=>a.createContext(l));return function(c){const u=(c==null?void 0:c[t])||i;return a.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return o.scopeName=t,[r,ct(o,...n)]}function ct(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((c,{useScope:u,scopeName:d})=>{const p=u(i)[`__scope${d}`];return{...c,...p}},{});return a.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return s.scopeName=n.scopeName,s}function oe(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function he(...t){return n=>{let s=!1;const r=t.map(o=>{const i=oe(o,n);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():oe(t[o],null)}}}}function B(...t){return a.useCallback(he(...t),t)}function Z(t){const n=lt(t),s=a.forwardRef((r,o)=>{const{children:i,...l}=r,c=a.Children.toArray(i),u=c.find(ut);if(u){const d=u.props.children,m=c.map(p=>p===u?a.Children.count(d)>1?a.Children.only(null):a.isValidElement(d)?d.props.children:null:p);return e.jsx(n,{...l,ref:o,children:a.isValidElement(d)?a.cloneElement(d,void 0,m):null})}return e.jsx(n,{...l,ref:o,children:i})});return s.displayName=`${t}.Slot`,s}function lt(t){const n=a.forwardRef((s,r)=>{const{children:o,...i}=s;if(a.isValidElement(o)){const l=ft(o),c=mt(i,o.props);return o.type!==a.Fragment&&(c.ref=r?he(r,l):l),a.cloneElement(o,c)}return a.Children.count(o)>1?a.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var dt=Symbol("radix.slottable");function ut(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dt}function mt(t,n){const s={...n};for(const r in n){const o=t[r],i=n[r];/^on[A-Z]/.test(r)?o&&i?s[r]=(...c)=>{i(...c),o(...c)}:o&&(s[r]=o):r==="style"?s[r]={...o,...i}:r==="className"&&(s[r]=[o,i].filter(Boolean).join(" "))}return{...t,...s}}function ft(t){var r,o;let n=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function pt(t){const n=t+"CollectionProvider",[s,r]=X(n),[o,i]=s(n,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:g,children:C}=v,x=A.useRef(null),w=A.useRef(new Map).current;return e.jsx(o,{scope:g,itemMap:w,collectionRef:x,children:C})};l.displayName=n;const c=t+"CollectionSlot",u=Z(c),d=A.forwardRef((v,g)=>{const{scope:C,children:x}=v,w=i(c,C),N=B(g,w.collectionRef);return e.jsx(u,{ref:N,children:x})});d.displayName=c;const m=t+"CollectionItemSlot",p="data-radix-collection-item",f=Z(m),j=A.forwardRef((v,g)=>{const{scope:C,children:x,...w}=v,N=A.useRef(null),T=B(g,N),P=i(m,C);return A.useEffect(()=>(P.itemMap.set(N,{ref:N,...w}),()=>void P.itemMap.delete(N))),e.jsx(f,{[p]:"",ref:T,children:x})});j.displayName=m;function h(v){const g=i(t+"CollectionConsumer",v);return A.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(g.itemMap.values()).sort((P,b)=>w.indexOf(P.ref.current)-w.indexOf(b.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:l,Slot:d,ItemSlot:j},h,r]}var W=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},ht=le[" useId ".trim().toString()]||(()=>{}),xt=0;function xe(t){const[n,s]=a.useState(ht());return W(()=>{s(r=>r??String(xt++))},[t]),t||(n?`radix-${n}`:"")}var gt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D=gt.reduce((t,n)=>{const s=Z(`Primitive.${n}`),r=a.forwardRef((o,i)=>{const{asChild:l,...c}=o,u=l?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${n}`,{...t,[n]:r}},{});function vt(t){const n=a.useRef(t);return a.useEffect(()=>{n.current=t}),a.useMemo(()=>(...s)=>{var r;return(r=n.current)==null?void 0:r.call(n,...s)},[])}var bt=le[" useInsertionEffect ".trim().toString()]||W;function ge({prop:t,defaultProp:n,onChange:s=()=>{},caller:r}){const[o,i,l]=jt({defaultProp:n,onChange:s}),c=t!==void 0,u=c?t:o;{const m=a.useRef(t!==void 0);a.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const d=a.useCallback(m=>{var p;if(c){const f=wt(m)?m(t):m;f!==t&&((p=l.current)==null||p.call(l,f))}else i(m)},[c,t,i,l]);return[u,d]}function jt({defaultProp:t,onChange:n}){const[s,r]=a.useState(t),o=a.useRef(s),i=a.useRef(n);return bt(()=>{i.current=n},[n]),a.useEffect(()=>{var l;o.current!==s&&((l=i.current)==null||l.call(i,s),o.current=s)},[s,o]),[s,r,i]}function wt(t){return typeof t=="function"}var Ct=a.createContext(void 0);function ve(t){const n=a.useContext(Ct);return t||n||"ltr"}var J="rovingFocusGroup.onEntryFocus",St={bubbles:!1,cancelable:!0},G="RovingFocusGroup",[Q,be,Nt]=pt(G),[yt,je]=X(G,[Nt]),[It,_t]=yt(G),we=a.forwardRef((t,n)=>e.jsx(Q.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Q.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Rt,{...t,ref:n})})}));we.displayName=G;var Rt=a.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...p}=t,f=a.useRef(null),j=B(n,f),h=ve(i),[v,g]=ge({prop:l,defaultProp:c??null,onChange:u,caller:G}),[C,x]=a.useState(!1),w=vt(d),N=be(s),T=a.useRef(!1),[P,b]=a.useState(0);return a.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(J,w),()=>S.removeEventListener(J,w)},[w]),e.jsx(It,{scope:s,orientation:r,dir:h,loop:o,currentTabStopId:v,onItemFocus:a.useCallback(S=>g(S),[g]),onItemShiftTab:a.useCallback(()=>x(!0),[]),onFocusableItemAdd:a.useCallback(()=>b(S=>S+1),[]),onFocusableItemRemove:a.useCallback(()=>b(S=>S-1),[]),children:e.jsx(D.div,{tabIndex:C||P===0?-1:0,"data-orientation":r,...p,ref:j,style:{outline:"none",...t.style},onMouseDown:R(t.onMouseDown,()=>{T.current=!0}),onFocus:R(t.onFocus,S=>{const E=!T.current;if(S.target===S.currentTarget&&E&&!C){const te=new CustomEvent(J,St);if(S.currentTarget.dispatchEvent(te),!te.defaultPrevented){const Y=N().filter(F=>F.focusable),Oe=Y.find(F=>F.active),Le=Y.find(F=>F.id===v),Ve=[Oe,Le,...Y].filter(Boolean).map(F=>F.ref.current);Ne(Ve,m)}}T.current=!1}),onBlur:R(t.onBlur,()=>x(!1))})})}),Ce="RovingFocusGroupItem",Se=a.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:o=!1,tabStopId:i,children:l,...c}=t,u=xe(),d=i||u,m=_t(Ce,s),p=m.currentTabStopId===d,f=be(s),{onFocusableItemAdd:j,onFocusableItemRemove:h,currentTabStopId:v}=m;return a.useEffect(()=>{if(r)return j(),()=>h()},[r,j,h]),e.jsx(Q.ItemSlot,{scope:s,id:d,focusable:r,active:o,children:e.jsx(D.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:n,onMouseDown:R(t.onMouseDown,g=>{r?m.onItemFocus(d):g.preventDefault()}),onFocus:R(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:R(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){m.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const C=Et(g,m.orientation,m.dir);if(C!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=f().filter(N=>N.focusable).map(N=>N.ref.current);if(C==="last")w.reverse();else if(C==="prev"||C==="next"){C==="prev"&&w.reverse();const N=w.indexOf(g.currentTarget);w=m.loop?Ft(w,N+1):w.slice(N+1)}setTimeout(()=>Ne(w))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});Se.displayName=Ce;var Tt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pt(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Et(t,n,s){const r=Pt(t.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tt[r]}function Ne(t,n=!1){const s=document.activeElement;for(const r of t)if(r===s||(r.focus({preventScroll:n}),document.activeElement!==s))return}function Ft(t,n){return t.map((s,r)=>t[(n+r)%t.length])}var At=we,Mt=Se;function Dt(t,n){return a.useReducer((s,r)=>n[s][r]??s,t)}var ye=t=>{const{present:n,children:s}=t,r=Ot(n),o=typeof s=="function"?s({present:r.isPresent}):a.Children.only(s),i=B(r.ref,Lt(o));return typeof s=="function"||r.isPresent?a.cloneElement(o,{ref:i}):null};ye.displayName="Presence";function Ot(t){const[n,s]=a.useState(),r=a.useRef(null),o=a.useRef(t),i=a.useRef("none"),l=t?"mounted":"unmounted",[c,u]=Dt(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const d=K(r.current);i.current=c==="mounted"?d:"none"},[c]),W(()=>{const d=r.current,m=o.current;if(m!==t){const f=i.current,j=K(d);t?u("MOUNT"):j==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(m&&f!==j?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,u]),W(()=>{if(n){let d;const m=n.ownerDocument.defaultView??window,p=j=>{const v=K(r.current).includes(j.animationName);if(j.target===n&&v&&(u("ANIMATION_END"),!o.current)){const g=n.style.animationFillMode;n.style.animationFillMode="forwards",d=m.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=g)})}},f=j=>{j.target===n&&(i.current=K(r.current))};return n.addEventListener("animationstart",f),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{m.clearTimeout(d),n.removeEventListener("animationstart",f),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function K(t){return(t==null?void 0:t.animationName)||"none"}function Lt(t){var r,o;let n=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var q="Tabs",[Vt,un]=X(q,[je]),Ie=je(),[kt,ee]=Vt(q),_e=a.forwardRef((t,n)=>{const{__scopeTabs:s,value:r,onValueChange:o,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:u="automatic",...d}=t,m=ve(c),[p,f]=ge({prop:r,onChange:o,defaultProp:i??"",caller:q});return e.jsx(kt,{scope:s,baseId:xe(),value:p,onValueChange:f,orientation:l,dir:m,activationMode:u,children:e.jsx(D.div,{dir:m,"data-orientation":l,...d,ref:n})})});_e.displayName=q;var Re="TabsList",Te=a.forwardRef((t,n)=>{const{__scopeTabs:s,loop:r=!0,...o}=t,i=ee(Re,s),l=Ie(s);return e.jsx(At,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx(D.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:n})})});Te.displayName=Re;var Pe="TabsTrigger",Ee=a.forwardRef((t,n)=>{const{__scopeTabs:s,value:r,disabled:o=!1,...i}=t,l=ee(Pe,s),c=Ie(s),u=Me(l.baseId,r),d=De(l.baseId,r),m=r===l.value;return e.jsx(Mt,{asChild:!0,...c,focusable:!o,active:m,children:e.jsx(D.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...i,ref:n,onMouseDown:R(t.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:R(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:R(t.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!o&&p&&l.onValueChange(r)})})})});Ee.displayName=Pe;var Fe="TabsContent",Ae=a.forwardRef((t,n)=>{const{__scopeTabs:s,value:r,forceMount:o,children:i,...l}=t,c=ee(Fe,s),u=Me(c.baseId,r),d=De(c.baseId,r),m=r===c.value,p=a.useRef(m);return a.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(ye,{present:o||m,children:({present:f})=>e.jsx(D.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:d,tabIndex:0,...l,ref:n,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});Ae.displayName=Fe;function Me(t,n){return`${t}-trigger-${n}`}function De(t,n){return`${t}-content-${n}`}var Ut=_e,$t=Te,Gt=Ee,Kt=Ae;function Bt({className:t,...n}){return e.jsx(Ut,{"data-slot":"tabs",className:z("flex flex-col gap-2",t),...n})}function Wt({className:t,...n}){return e.jsx($t,{"data-slot":"tabs-list",className:z("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...n})}function ae({className:t,...n}){return e.jsx(Gt,{"data-slot":"tabs-trigger",className:z("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function ie({className:t,...n}){return e.jsx(Kt,{"data-slot":"tabs-content",className:z("flex-1 outline-none",t),...n})}function zt({title:t,endpoint:n,item:s,open:r,setOpen:o}){const{setData:i,put:l,processing:c,data:u,errors:d}=O({id:(s==null?void 0:s.id)||"",name:(s==null?void 0:s.name)||"",number:(s==null?void 0:s.number)||"",email:(s==null?void 0:s.email)||"",service_id:(s==null?void 0:s.service_id)||0,counter_id:(s==null?void 0:s.counter_id)||0});console.log("ðŸš€ ~ item?.service_id:",s==null?void 0:s.service_id),console.log("ðŸš€ ~ item?.counter_id:",s==null?void 0:s.counter_id);const[m,p]=a.useState([]),[f,j]=a.useState([]),{setData:h,put:v,processing:g,data:C,errors:x}=O({password:"",password_confirmation:""});a.useEffect(()=>{(async()=>{if(!(!r||!s)){i({id:s.id??"",name:s.name??"",number:s.number??"",email:s.email??"",service_id:s.service_id??0,counter_id:s.counter_id??0});try{const E=await(await fetch("/service-list")).json();p(E)}catch(S){console.error("Failed to fetch services",S)}if(s.service_id)try{const E=await(await fetch(`/counter-list-by-service-id/${s.service_id}`)).json();j(E)}catch(S){console.error("Failed to fetch counters",S)}}})()},[r,s]);const w=async b=>{i("service_id",parseInt(b));try{const E=await(await fetch(`/counter-list-by-service-id/${b}`)).json();console.log("ðŸš€ ~ handleServiceChange ~ json:",E),j(E)}catch(S){console.error("Failed to fetch services",S)}},N=async b=>{i("counter_id",parseInt(b))},T=b=>{b.preventDefault(),l(n+"/"+u.id,{onSuccess:()=>o(!1)})},P=b=>{b.preventDefault(),v("update-password/"+u.id,{onSuccess:()=>o(!1)})};return e.jsx(fe,{open:r,onOpenChange:o,children:e.jsxs(pe,{className:"max-w-xl",children:[e.jsx(rt,{children:e.jsxs(ot,{children:["Edit ",t]})}),e.jsxs(Bt,{defaultValue:"profile",className:"mt-4 w-full",children:[e.jsxs(Wt,{className:"inline-flex w-full justify-center gap-2",children:[e.jsx(ae,{value:"profile",children:"Profile"}),e.jsx(ae,{value:"password",children:"Password"})]}),e.jsx(ie,{value:"profile",children:e.jsxs("form",{onSubmit:T,className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs(L,{onValueChange:w,value:u.service_id?String(u.service_id):"",children:[e.jsx(V,{className:"w-full",children:e.jsx(k,{})}),e.jsx(U,{children:m.map(b=>e.jsx($,{value:String(b.id),children:b.name},b.id))})]}),d.service_id&&e.jsx("p",{className:"pt-1 pl-1 text-sm text-red-400",children:d.service_id})]}),e.jsxs("div",{children:[e.jsxs(L,{onValueChange:N,value:u.counter_id?String(u.counter_id):"",children:[e.jsx(V,{className:"w-full",children:e.jsx(k,{})}),e.jsx(U,{children:f.map(b=>e.jsx($,{value:String(b.id),children:b.name},b.id))})]}),d.counter_id&&e.jsx("p",{className:"pt-1 pl-1 text-sm text-red-400",children:d.counter_id})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"name",children:"Name"}),e.jsx(y,{id:"name",value:u.name,onChange:b=>i("name",b.target.value),disabled:c,placeholder:"John"}),e.jsx(I,{message:d.name})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"number",children:"Number"}),e.jsx(y,{id:"number",value:u.number,onChange:b=>i("number",b.target.value),disabled:c,placeholder:"971123456789"}),e.jsx(I,{message:d.number})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"email",children:"Email"}),e.jsx(y,{id:"email",type:"email",value:u.email,onChange:b=>i("email",b.target.value),disabled:c,placeholder:"email@example.com"}),e.jsx(I,{message:d.email})]}),e.jsx(M,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",type:"submit",disabled:c,children:c?"Saving...":"Save Profile"})]})}),e.jsx(ie,{value:"password",children:e.jsxs("form",{onSubmit:P,className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"password",children:"New Password"}),e.jsx(y,{id:"password",type:"password",value:C.password,onChange:b=>h("password",b.target.value),disabled:g,placeholder:"Enter new password"}),e.jsx(I,{message:x.password})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(y,{id:"password_confirmation",type:"password",value:C.password_confirmation,onChange:b=>h("password_confirmation",b.target.value),disabled:g,placeholder:"Re-enter new password"}),e.jsx(I,{message:x.password_confirmation})]}),e.jsx(M,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",type:"submit",disabled:g,children:g?"Updating...":"Update Password"})]})})]})]})})}const qt=[{title:"User",href:"/users"}],ce=[{accessorKey:"id",header:"#"},{accessorKey:"name",header:"Name"},{accessorKey:"email",header:"Email"},{accessorKey:"number",header:"Number"},{accessorKey:"service.name",header:"Service"},{accessorKey:"counter.name",header:"Counter"},{id:"actions",header:"Action",cell:({row:t})=>{const n=t.original,{delete:s,setData:r}=O({id:n.id,name:n.name,description:n.description}),o=u=>{confirm("Are you sure you want to delete this tasks?")&&s(`/users/${u}`,{onSuccess:()=>{}})},[i,l]=a.useState(!1),c=u=>{console.log("ðŸš€ ~ handleEdit ~ contact:",u),l(!0),r(u)};return e.jsxs("div",{children:[" ",e.jsxs(de,{children:[e.jsx(ue,{asChild:!0,children:e.jsxs(M,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ze,{})]})}),e.jsxs(me,{align:"end",className:"right-0 cursor-pointer",children:[e.jsxs(ne,{onClick:()=>c(n),children:[" ",e.jsx(qe,{})," Edit"]}),e.jsxs(ne,{onClick:()=>o(n.id),className:"cursor-pointer",children:[e.jsx(Ye,{})," Delete"]})]})]}),e.jsx(zt,{title:"User",endpoint:"users",open:i,setOpen:l,item:n})]})}}];function mn({items:t}){var j;const{get:n}=O(),s=h=>{n(route("users.index",{per_page:h}))},[r,o]=a.useState([]),[i,l]=a.useState([]),[c,u]=a.useState({}),[d,m]=a.useState({}),p=a.useMemo(()=>t.data,[t]);a.useEffect(()=>{f.setPageSize(t.per_page)},[t]);const f=Ge({data:p,columns:ce,onSortingChange:o,onColumnFiltersChange:l,getCoreRowModel:Qe(),getPaginationRowModel:Ze(),getSortedRowModel:Je(),getFilteredRowModel:He(),onColumnVisibilityChange:u,onRowSelectionChange:m,state:{sorting:r,columnFilters:i,columnVisibility:c,rowSelection:d}});return e.jsxs(Ue,{breadcrumbs:qt,children:[e.jsx(ke,{title:"User"}),e.jsxs("div",{className:"flex w-full items-center justify-between rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{placeholder:"Filter titles...",value:((j=f.getColumn("name"))==null?void 0:j.getFilterValue())??"",onChange:h=>{var v;return(v=f.getColumn("name"))==null?void 0:v.setFilterValue(h.target.value)},className:"mr-1 max-w-sm"}),e.jsxs(de,{children:[e.jsx(ue,{asChild:!0,children:e.jsxs(M,{variant:"outline",children:["Columns ",e.jsx(Ke,{})]})}),e.jsx(me,{align:"end",children:f.getAllColumns().filter(h=>h.getCanHide()).map(h=>e.jsx($e,{className:"capitalize",checked:h.getIsVisible(),onCheckedChange:v=>h.toggleVisibility(!!v),children:h.id},h.id))})]})]}),e.jsx(it,{title:"User",endpoint:"users"})]}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("div",{className:"gap-4 rounded-xl border border-gray-200 bg-[var(--background)] p-4 text-[var(--foreground)] dark:border-gray-700",children:[e.jsxs(Xe,{children:[e.jsx(et,{children:f.getHeaderGroups().map(h=>e.jsx(H,{children:h.headers.map(v=>e.jsx(tt,{children:v.isPlaceholder?null:se(v.column.columnDef.header,v.getContext())},v.id))},h.id))}),e.jsx(nt,{children:f.getRowModel().rows.length?f.getRowModel().rows.map(h=>e.jsx(H,{children:h.getVisibleCells().map(v=>e.jsx(re,{children:se(v.column.columnDef.cell,v.getContext())},v.id))},h.id)):e.jsx(H,{children:e.jsx(re,{colSpan:ce.length,className:"h-24 text-center",children:"No results."})})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Rows per page:"}),e.jsxs(L,{onValueChange:h=>{f.setPageSize(Number(h)),s(Number(h))},value:String(f.getState().pagination.pageSize),children:[e.jsx(V,{className:"w-[120px]",children:e.jsx(k,{placeholder:"Per Page"})}),e.jsx(U,{children:e.jsxs(Be,{children:[e.jsx(We,{children:"Per Page"}),[5,10,20,50,100].map(h=>e.jsx($,{value:String(h),children:h},h))]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:"outline",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:"Previous"}),e.jsxs("span",{children:["Page ",f.getState().pagination.pageIndex+1," of ",f.getPageCount()]}),e.jsx(M,{variant:"outline",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:"Next"})]})]})]})})]})}export{ce as columns,mn as default};
